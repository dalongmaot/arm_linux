# 利用深度神经网络从X射线图像中检测BGA焊料缺陷



## 摘要：

​		在文献中可以看到，复杂的图像处理操作被用于球栅阵列（BGA）X射线图像的分类，然而并没有取得高的分类结果。近年来，人们发现深度学习方法尤其在分类问题上非常成功。在这项研究中，我们提出了一个新的深度神经网络（DNN）模型来对BGA的X光图像进行分类。拟议的DNN模型包含特征提取层和一个最小距离分类器。由于提议的网络由较少的层数组成（4个卷积层和1个全连接层），网络的超参数的确定和网络的训练可以在短时间内完成。BGA的X射线图像根据焊点的情况被分为4类：正常、短路、粘结缺陷和空洞缺陷。本研究中使用的数据集分别由这些类别的67、76、53和76张图像组成。所有数据的80%被分配给训练集，其余20%被分配给测试集。与文献中的现有方法相比，用所提出的方法对BGA的X射线图像进行分类的成功率非常高，达到了97%。



### 1. 绪论

​		球栅阵列是一种表面贴装技术（SMT）。许多重叠的层形成了BGA，它可以包括许多多路复用器、逻辑门、触发器和其他电路。BGA有许多优点，如更小的元件尺寸、更小的占地面积、高I/O数和更好的电气性能。BGA的焊点不能用人眼直接检查，因为BGA的焊球隐藏在元件体下。在显微镜的帮助下，只能检查元件体边缘条上的焊球，这是不充分的。只有用X射线设备才有可能检查BGA元件的所有焊球。

​		BGA的焊球被一个X射线源照射并投射到一个探测器上。焊球和BGA元件主体之间的对比度差异提供了关于焊球形状的详细信息。通过参考融合并粘附在PCB（印刷电路板）上的焊球，没有空隙和桥接相邻的焊球，就可以检测出缺陷。

​		当检查X射线装置中的BGA元件的焊接连接时，基本上要进行3种故障的检测：短路、粘结和空洞缺陷。由于这3种基本缺陷的存在，还可以观察到其他故障。BGA焊点的一些其他类型的缺陷是缺失连接、开放连接和部件的错误注册。

​		由于没有正确使用焊膏工艺，在BGA元件的焊球之间出现了桥接，从而导致了短路缺陷。当从顶部以零度角观察时，BGA焊球之间的桥接可能会与PCB另一侧的其他元件混淆，这些元件正好在BGA的下面。因为在这种情况下，有必要从不同的角度来观察焊球。

​		如果没有根据焊料的类型和内部结构正确确定回流焊的轮廓，就会出现结合缺陷。为了检测粘结缺陷，有必要从不同角度检查焊球，例如在短路故障的情况下。

​		空洞的发生是由于焊料和焊接轮廓没有正确指定。可以参考基于电子组件可接受性的工序间通信（IPC）标准，以确定空洞的百分比应该更低。在这方面，根据IPC-A-610G（电子装配的可接受性）文件，一个可接受的BGA接头应该有低于30%的空隙[1]。为了计算总空隙率，只需从顶部以零的角度检查BGA的焊球。

​		由于BGA元件的焊接检测是由用户在X射线设备上进行的，因此不能完全准确地创建一个可重复的过程，因为它是一个依赖人的系统。由于这个原因，根据该过程的正确测量结果，以客观的方式控制和再现焊接过程，而不依赖于个人，是非常重要的。

​		在这种情况下，我们观察到，研究人员已经提出了一系列的图像处理和模式识别算法，用于计算机辅助检查和分类BGA X射线图像中的焊点。在文献中，检查焊点状况的研究一般将BGA的X射线图像分为两个或三个大类[2-9]。在这些研究中，大多数采用形态学图像处理方法进行分析，并对少数图像给出结果。而且，在其中一些研究中没有提到分类性能。